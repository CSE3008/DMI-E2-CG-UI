{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useDispatch } from \"react-redux\";\nimport { changeUser } from \"../redux/actions/UserAction\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Login = function Login() {\n  var dispatch = useDispatch();\n  var navigate = useNavigation();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    users = _useState6[0],\n    setUsers = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flag = _useState8[0],\n    setFlag = _useState8[1];\n  useEffect(function () {\n    axios.get(\"https://web-production-ce2a.up.railway.app\" + '/usuarios').then(function (result) {\n      setUsers(result.data);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  }, []);\n  var login = function login() {\n    var filter = [];\n    filter = users.filter(function (element) {\n      return element.correo === email && element.password === password;\n    });\n    if (filter.length > 0) {\n      dispatch(changeUser(filter[0]._id));\n      navigate.navigate(\"Control de gastos\");\n      setEmail(\"\");\n      setPassword(\"\");\n    } else {\n      setFlag(true);\n    }\n  };\n  useEffect(function () {\n    setFlag(false);\n  }, [email, password]);\n  return _jsxs(ScrollView, {\n    style: styles.containerLogin,\n    children: [_jsx(View, {\n      style: styles.containerImg,\n      children: _jsx(ImageBackground, {\n        style: {\n          width: '150px',\n          height: '150px',\n          borderTopLeftRadius: '10px',\n          borderTopRightRadius: '10px',\n          resizeMode: 'contain',\n          marginBottom: '10%'\n        },\n        source: require(\"../../../assets/login.png\")\n      })\n    }), _jsx(Text, {\n      style: styles.color,\n      children: \"Correo:\"\n    }), _jsx(TextInput, {\n      onChangeText: setEmail,\n      value: email,\n      keyboardType: \"string\",\n      style: styles.email\n    }), _jsx(Text, {\n      style: styles.color,\n      children: \"Contrasenia:\"\n    }), _jsx(TextInput, {\n      onChangeText: setPassword,\n      value: password,\n      keyboardType: \"password\",\n      style: styles.password\n    }), _jsx(Button, {\n      onPress: function onPress() {\n        return login();\n      },\n      style: styles.button,\n      title: \"INGRESAR\"\n    }), flag && _jsx(Text, {\n      style: styles.error,\n      children: \"Algo salio mal\"\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  containerImg: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  email: {\n    marginTop: '3%',\n    marginBottom: '3%',\n    height: '2rem',\n    border: 'solid #353535 1px'\n  },\n  password: {\n    marginTop: '3%',\n    marginBottom: '3%',\n    height: '2rem',\n    border: 'solid #353535 1px'\n  },\n  button: {\n    backgroundColor: 'black',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '2.5rem'\n  },\n  text: {\n    color: 'white'\n  },\n  containerLogin: {\n    padding: '10%'\n  },\n  error: {\n    color: 'red',\n    fontWeight: 'bold',\n    fontSize: '20px',\n    textAlign: 'center',\n    marginTop: '5%'\n  }\n});\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","useNavigation","useDispatch","changeUser","axios","Login","dispatch","navigate","email","setEmail","password","setPassword","users","setUsers","flag","setFlag","get","then","result","data","catch","e","console","log","login","filter","element","correo","length","_id","styles","containerLogin","containerImg","width","height","borderTopLeftRadius","borderTopRightRadius","resizeMode","marginBottom","require","color","button","error","StyleSheet","create","display","justifyContent","alignItems","marginTop","border","backgroundColor","text","padding","fontWeight","fontSize","textAlign"],"sources":["C:/Users/Erik/Desktop/react-native-two/react/src/components/Login/Login..js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { StyleSheet, Button, TextInput, Text, View, ImageBackground, ScrollView } from 'react-native';\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeUser } from \"../redux/actions/UserAction\";\r\nimport axios from \"axios\";\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigation();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [users, setUsers] = useState([]);\r\n    const [flag, setFlag] = useState(false);\r\n\r\n    useEffect(() => {        \r\n        axios.get(process.env.REACT_APP_API + '/usuarios').then(result => {\r\n            setUsers(result.data);\r\n        }).catch(e => {\r\n            console.log(e);\r\n        });\r\n    }, []);\r\n\r\n    const login = () => {\r\n        let filter = [];\r\n        filter = users.filter(element => (element.correo === email && element.password === password));\r\n        if(filter.length > 0){\r\n            dispatch(changeUser(filter[0]._id));\r\n            navigate.navigate(\"Control de gastos\");\r\n            setEmail(\"\");\r\n            setPassword(\"\");\r\n        }else{\r\n            setFlag(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFlag(false);\r\n    }, [email, password]);\r\n  \r\n    return (\r\n        <ScrollView style={styles.containerLogin}>\r\n            <View style={styles.containerImg}>\r\n                <ImageBackground style={{\r\n                        width: '150px',\r\n                        height: '150px',\r\n                        borderTopLeftRadius: '10px',\r\n                        borderTopRightRadius: '10px',   \r\n                        resizeMode: 'contain',\r\n                        marginBottom: '10%'                    \r\n                    }} \r\n                    source={require(`../../../assets/login.png`)\r\n                }></ImageBackground>\r\n            </View>\r\n            <Text style={styles.color}>Correo:</Text>\r\n            <TextInput \r\n                onChangeText={setEmail}\r\n                value={email}\r\n                keyboardType=\"string\"\r\n                style={styles.email}\r\n            />\r\n            <Text style={styles.color}>Contrasenia:</Text>\r\n            <TextInput \r\n                onChangeText={setPassword}\r\n                value={password}\r\n                keyboardType=\"password\"\r\n                style={styles.password}\r\n            />\r\n            <Button onPress={\r\n                () => login()\r\n                }\r\n                style={styles.button}\r\n                title=\"INGRESAR\"\r\n            />\r\n            {\r\n                flag && <Text style={styles.error}>Algo salio mal</Text>\r\n            }\r\n        </ScrollView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    containerImg: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    email: {\r\n        marginTop: '3%',\r\n        marginBottom: '3%',\r\n        height: '2rem',\r\n        border: 'solid #353535 1px',\r\n    },\r\n    password: {\r\n        marginTop: '3%',\r\n        marginBottom: '3%',\r\n        height: '2rem',\r\n        border: 'solid #353535 1px',\r\n    }, \r\n    button: {\r\n        backgroundColor: 'black',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '2.5rem'\r\n    },\r\n    text: {\r\n        color: 'white'\r\n    },\r\n    containerLogin: {\r\n        padding: '10%'\r\n    },\r\n    error: {\r\n        color: 'red',\r\n        fontWeight: 'bold',\r\n        fontSize: '20px',\r\n        textAlign: 'center',\r\n        marginTop: '5%'\r\n    }\r\n});\r\n  \r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}